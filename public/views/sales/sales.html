<div class="container main-content col-md-12" id = "yadDiv">
  
    <div class="panel panel-default">
      <div class="panel-body">
        <form>     

              <div class="col-md-1">
                  <label for="billno"><b>Bill No</b></label>
                  <input type="text"
                         class="form-control font-weight:bold" 
                         id="billno",
                         ng-model="billModel.billno"  
                         value="" disabled>
              </div> 
              <div class="col-md-2">
                <label class="control-label" for="date"><b>Date</b></label>
                <input type="text"
                       class="form-control" 
                       id="date"  
                       ng-model = "billModel.date" 
                       bs-datepicker>
              </div> 
              <div class="col-md-4">
                <label class="control-label" for="patient"><b>Patient Name</b></label>
                <input type="text"
                       class="form-control" 
                       id="patient"  
                       ng-model = "billModel.patient">
              </div>
              <div class="col-md-5">
                <label class="control-label" for="doctor"><b>Prescribing Doctor</b></label>
                <input type="text"
                       class="form-control" 
                       id="doctor"  
                       ng-model = "billModel.doctor">
              </div>
        </form> 
      </div>
    </div> <!-- Panel Default -->
    <!-- Table for Bill Details -->
    <div class="col-lg-12 col-lg-offset-0 center">
      <table class="table table-bordered">
          <thead>
              <th class="col-lg-5">ITEM </th>
              <th class="col-lg-1">Quantity</th>              
              <th class="col-lg-1">SCH </th>
              <th class="col-lg-1">MFG. </th>
              <th class="col-lg-1">Batch No. </th>
              <th class="col-lg-1">Exp Data</th>
              <th class="col-lg-1">Price</th>
              <th class="col-lg-1">Amount</th>
              <th class="col-lg-1"></th>
          </thead>
          <tbody class="detail">
            <tr>
              <td style="display:none;" class = "no"> 1 </td> 
              <td> <input type="text" class="form-control itemname" name = "itemname[]"> </td>
              <td> <input type="text" class="form-control quantity" name = "quantity[]"> </td>
              <td> <input type="text" class="form-control sch" name = "sch[]"> </td>
              <td> <input type="text" class="form-control mfg" name = "mfg[]"> </td>
              <td> <input type="text" class="form-control batch" name = "batch[]"> </td>
              <td> <input type="text" class="form-control expdate" name = "expdate[]"> </td>
              <td> <input type="text" class="form-control price" name = "price[]"> </td>
              <td> <input type="text" class="form-control amount" name = "amount[]"> </td>
              <td> <input type="button" value="-" id="remove" class="remove btn btn-primary"></td>     
            </tr> 
          </tbody>
      </table>
    </div>     
  </div>
  <div class="form-group col-lg-offset-5">
  <input type="button" value="+" id="add" class="btn btn-primary">
    <button class="btn btn-primary"> SAVE BILL
    </button>  
  </div>  

<script>
  // $('#mainTable1').editableTableWidget({ editor: $('<input>'), preventColumns: [ 3,4,5,6,7 ] }).numericInputExample();

  $(function(){
    $('#add').click(function(){
      addnewrow();
    });

    $('body').delegate('.remove','click', function(){
        $(this).parent().parent().remove();
    });

    $('.detail').delegate('.quantity, .price','keyup',function(){
      var tr = $(this).parent().parent();
      var qty = tr.find('.quantity').val() || 0;
      var price = tr.find('.price').val() || 0;
      var amount = qty * price 
      tr.find('.amount').val(amount);
    });

  });

  function addnewrow(){
     var n = ($('.detail tr').length-0) + 1;
     console.log(n);
     var tr = '<tr> ' + 
                '<td style="display:none;" class = "no"> ' + n + ' </td> ' +
                '<td> <input type="text" class="form-control itemname" name = "itemname[]"> </td> ' +
                '<td> <input type="text" class="form-control quantity" name = "quantity[]"> </td> ' +
                '<td> <input type="text" class="form-control sch" name = "sch[]"> </td> ' +
                '<td> <input type="text" class="form-control mfg" name = "mfg[]"> </td> ' +
                '<td> <input type="text" class="form-control batch" name = "batch[]"> </td> ' +
                '<td> <input type="text" class="form-control expdate" name = "expdate[]"> </td> ' +
                '<td> <input type="text" class="form-control price" name = "price[]"> </td> ' +
                '<td> <input type="text" class="form-control amount" name = "amount[]"> </td> ' +
                '<td> <input type="button" value="-" id="remove" class="remove btn btn-primary"></td>' +     
               '</tr>';
     $('.detail').append(tr);          

  }  

</script>
      



